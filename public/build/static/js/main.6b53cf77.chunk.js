(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,a,t){e.exports=t.p+"static/media/nut.1b543ca3.png"},122:function(e,a,t){},123:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(18),s=t.n(r),c=t(4),i=t(25),m=t(28),o=t(11),u=t.n(o),d=t(17),f=t.n(d);var b=function(e){e.auth&&e.history.push("/");var a=Object(n.useState)(null),t=Object(c.a)(a,2),r=t[0],s=t[1],o=Object(n.useState)(!1),d=Object(c.a)(o,2),b=d[0],p=d[1],E=Object(n.useState)({username:"",email:"",password:"",password2:""}),g=Object(c.a)(E,2),h=g[0],v=g[1];function N(e){var a=e.target,t=a.value,n=a.name;v((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(i.a)({},n,t))}))}return l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"container d-flex h-100 align-items-center"},l.a.createElement("div",{className:"mx-auto text-center"},l.a.createElement("h1",null,h.username?h.username.length>12?"Hello "+h.username.substring(0,12)+"...":"Hello "+h.username:"Hello"),l.a.createElement("form",null,l.a.createElement("input",{className:"input",value:h.email,onChange:N,name:"email",placeholder:"Email",type:"Username",autoComplete:"no"}),l.a.createElement("input",{className:"input",value:h.username,onChange:N,placeholder:"Username",name:"username",autoComplete:"no"}),l.a.createElement("input",{className:"input",value:h.password,onChange:N,name:"password",placeholder:"Password",type:"password",autoComplete:"no"}),l.a.createElement("input",{className:"input",value:h.password2,onChange:N,name:"password2",placeholder:"Confirm Password",type:"password",autoComplete:"no"}),l.a.createElement("button",{type:"submit",onClick:function(a){a.preventDefault(),u.a.post("/api/register",f.a.stringify(h)).then((function(a){"success"===a.data.status?(s(null),p(!0),setTimeout((function(){e.reAuth()}),2e3)):s(a.data.message)})).catch((function(){s("an unknown error occured")}))},className:"form-button btn btn-danger join-button"},"Sign Up"),r&&l.a.createElement("div",{className:"invalid-feedback d-block"},r),b&&l.a.createElement("div",{className:"valid-feedback d-block"},"Success! Please verify your email address")))))};var p=function(e){e.auth&&e.history.push("/");var a=Object(n.useState)(null),t=Object(c.a)(a,2),r=t[0],s=t[1],o=Object(n.useState)(!1),d=Object(c.a)(o,2),b=d[0],p=d[1],E=Object(n.useState)({email:"",password:""}),g=Object(c.a)(E,2),h=g[0],v=g[1];function N(e){var a=e.target,t=a.value,n=a.name;v((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(i.a)({},n,t))}))}return l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"container d-flex h-100 align-items-center"},l.a.createElement("div",{className:"mx-auto text-center"},l.a.createElement("h1",null,"Welcome back!"),l.a.createElement("form",{autoComplete:"new-password"},l.a.createElement("input",{autoFocus:!0,id:"email",className:"input",value:h.email,onChange:N,name:"email",placeholder:"Email",type:"email"}),l.a.createElement("input",{id:"password",className:"input",value:h.password,onChange:N,name:"password",placeholder:"Password",type:"password"}),l.a.createElement("button",{onClick:function(a){a.preventDefault(),u.a.post("/api/login",f.a.stringify(h)).then((function(a){"success"===a.data.status?(p(!0),setTimeout((function(){e.reAuth()}),500)):s(a.data.message)})).catch((function(){s("invalid username or password")}))},className:"form-button btn btn-danger join-button"},"Log in"),r&&l.a.createElement("div",{className:"invalid-feedback d-block"},r),b&&l.a.createElement("div",{className:"valid-feedback d-block"},"Success!")))))};var E=function(e){return l.a.createElement("div",null,"About")};var g=function(e){return l.a.createElement("div",null,"rules")},h=t(5),v=t(140),N=t(141),j=t(143);var y=function(e){var a=Object(n.useState)(i()),t=Object(c.a)(a,2),r=t[0],s=t[1];function i(){var e=Date.parse("Nov 1 2020")-Date.parse(new Date),a=Math.floor(e/1e3%60),t=Math.floor(e/1e3/60%60),n=Math.floor(e/36e5%24);return Math.floor(e/864e5)+":"+n+":"+t+":"+a}switch(Object(n.useEffect)((function(){setTimeout((function(){s(i())}),1e3)})),e.size){case 1:return l.a.createElement("h1",{style:e.style,className:e.className},r);case 2:return l.a.createElement("h2",{style:e.style,className:e.className},r);case 3:return l.a.createElement("h3",{style:e.style,className:e.className},r);case 4:return l.a.createElement("h4",{style:e.style,className:e.className},r);case 5:return l.a.createElement("h5",{style:e.style,className:e.className},r);case 6:return l.a.createElement("h6",{style:e.style,className:e.className},r);default:return l.a.createElement("h5",{style:e.style,className:e.className},r)}},k=t(35),O=function(e){var a=e.children;return Object(k.useMediaQuery)({minWidth:992})?a:null},x=function(e){var a=e.children;return Object(k.useMediaQuery)({minWidth:768,maxWidth:991})?a:null},C=function(e){var a=e.children;return Object(k.useMediaQuery)({maxWidth:767})?a:null},w=function(e){var a=e.children;return Object(k.useMediaQuery)({minWidth:768})?a:null};var S=function(e){function a(){document.getElementById("responsive-navbar-nav").classList.remove("show")}return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{className:"fixed-top",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},l.a.createElement(h.b,{className:"navbar-brand",to:"/"},"NNN"),l.a.createElement(y,{style:{color:"white"},className:"my-auto",size:5}),l.a.createElement(N.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(N.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(j.a,{onSelect:a,className:"mr-auto"}),l.a.createElement(j.a,null,e.auth?l.a.createElement(l.a.Fragment,null,l.a.createElement(C,null,l.a.createElement(h.b,{onClick:a,className:"nav-link",to:"/friends"},"Friends"),l.a.createElement(h.b,{onClick:a,className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(h.b,{onClick:a,className:"mr-3 nav-link",to:"/rules"},"Rules"),l.a.createElement("a",{onClick:e.logout,className:"nav-link"},"Log out")),l.a.createElement(x,null,l.a.createElement(h.b,{onClick:a,className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(h.b,{onClick:a,className:"mr-3 nav-link",to:"/rules"},"Rules"),l.a.createElement("a",{onClick:(e.logout,a),className:"nav-link"},"Log out")),l.a.createElement(O,null,l.a.createElement(h.b,{className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(h.b,{className:"mr-3 nav-link",to:"/rules"},"Rules"),l.a.createElement(v.a,{onClick:e.logout,variant:"outline-light"},"Log out"))):l.a.createElement(l.a.Fragment,null,l.a.createElement(C,null,l.a.createElement(h.b,{onClick:a,className:"mr-3 nav-link",to:"/register"},"Join"),l.a.createElement(h.b,{onClick:a,className:"mr-2 nav-link",to:"/login"},"Log In"),l.a.createElement(h.b,{onClick:a,className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(h.b,{onClick:a,className:"mr-3 nav-link",to:"/rules"},"Rules")),l.a.createElement(x,null,l.a.createElement(h.b,{onClick:a,className:"mr-3 nav-link",to:"/register"},"Join"),l.a.createElement(h.b,{onClick:a,className:"mr-2 nav-link",to:"/login"},"Log In"),l.a.createElement(h.b,{onClick:a,className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(h.b,{onClick:a,className:"mr-3 nav-link",to:"/rules"},"Rules")),l.a.createElement(O,null,l.a.createElement(h.b,{className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(h.b,{className:"mr-3 nav-link",to:"/rules"},"Rules"),l.a.createElement(h.b,{className:"mr-3 btn btn-outline-light",to:"/login"},"Log In"),l.a.createElement(h.b,{className:"mr-2 btn btn-danger",to:"/register"},"Join")))))))};var R=function(e){return l.a.createElement("header",{className:"center"},l.a.createElement("div",{className:"container d-flex h-100 align-items-center"},l.a.createElement("div",{className:"mx-auto text-center"},l.a.createElement("h1",{className:"mx-auto mt-2 mb-0"},"No Nut November"),l.a.createElement("h5",{className:"mx-auto mt-2 mb-0"},l.a.createElement("em",null,"Where boys become men.")),l.a.createElement(y,{className:"mx-auto mt-2 mb-5",size:5}),l.a.createElement("h5",null,"36,847 comrades"),l.a.createElement(h.b,{className:"btn btn-danger",to:"/register"},"Join the boys!"))))},F=(t(36),t(40)),M=t.n(F),A=t(142);var T=function(e){return e.isSender?l.a.createElement("div",{style:{marginLeft:"20px",marginTop:"5px",color:"white",backgroundColor:"#48466d",borderRadius:"5px",padding:"5px"}},l.a.createElement("p",{className:"my-auto"},e.message)):l.a.createElement("div",{style:{marginRight:"20px",marginTop:"5px",color:"white",backgroundColor:"#d9534f",borderRadius:"5px",padding:"5px"}},l.a.createElement("p",{className:"my-auto"},e.message))},L=t(68),z=t.n(L);var I=function(e){var a=Object(n.useState)(""),t=Object(c.a)(a,2),r=t[0],s=t[1],i=Object(n.useState)([]),m=Object(c.a)(i,2),o=m[0],d=m[1],b=Object(n.useState)([]),p=Object(c.a)(b,2),E=p[0],g=p[1],h=Object(n.useRef)(null);function v(){u.a.get("/api/user/friends/messages/".concat(o._id)).then((function(e){"success"===e.data.status&&e.data.messages.length!=E.length&&g(e.data.messages)}))}return Object(n.useEffect)((function(){d(e.friend),setTimeout((function(){v()}),1e3)})),Object(n.useEffect)((function(){h.current.scrollIntoView({behavior:"smooth"})}),[E]),l.a.createElement("div",{className:e.isFullScreen?"messages-page":"shadow-sm messages-list"},l.a.createElement(A.a,{onClick:e.closeMessages,size:"small",color:"secondary","aria-label":"add"},l.a.createElement(z.a,null)),l.a.createElement("div",{className:"scrollable-messages"},E.map((function(e,a){return l.a.createElement(T,{key:a,id:a,message:e.message,isSender:e.sender})})),l.a.createElement("div",{ref:h})),l.a.createElement("div",{className:"message-box"},l.a.createElement("input",{className:"search-friend-input",placeholder:"Message "+o.username,autoComplete:"no",value:r,onChange:function(e){s(e.target.value)}}),l.a.createElement(A.a,{onClick:function(a){a.preventDefault(),u.a.post("/api/user/friends/sendMessage",f.a.stringify({friendID:e.friend._id,message:r})),s(""),v()},size:"small",color:"secondary","aria-label":"add"},l.a.createElement(M.a,null))))};var D=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"friend"},l.a.createElement("img",{className:"img-circle",width:"60",height:"60",alt:"profile",src:"https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg"}),l.a.createElement("div",{className:"friend-text"},l.a.createElement("div",{style:{position:"relative",top:"15%"}},l.a.createElement("h6",{className:"friend-name"},l.a.createElement("strong",null,l.a.createElement("button",{onClick:function(){return e.openMessages(e.friend)}},e.friend.username))),l.a.createElement("br",null),l.a.createElement("p",{className:"friend-subtitle"},"Did nut: ",e.friend.didNut.toString())))))},_=t(70),q=t.n(_),W=t(69),J=t.n(W);var P=function(e){function a(a){var t;t=a?"/api/user/friends/friendRequest/true":"/api/user/friends/friendRequest/false",u.a.post(t,f.a.stringify({friendId:e.friend._id})).then((function(a){console.log(a.data),"success"===a.data.status&&e.getFriends()}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"friend friend-request",style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",null,l.a.createElement("img",{className:"img-circle",width:"60",height:"60",alt:"profile",src:"https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg"}),l.a.createElement("h6",{className:"friend-name"},l.a.createElement("strong",null,e.friend.username))),l.a.createElement("div",{className:"my-auto",style:{display:"inline-block"}},l.a.createElement(A.a,{onClick:function(){return a(!0)},size:"small",color:"primary","aria-label":"add"}," ",l.a.createElement(J.a,null)," "),l.a.createElement(A.a,{onClick:function(){return a(!1)},className:"ml-2",size:"small",color:"secondary","aria-label":"deny"}," ",l.a.createElement(q.a,null)," "))))};var Q=function(e){var a=Object(n.useState)([]),t=Object(c.a)(a,2),r=t[0],s=t[1],i=Object(n.useState)([]),m=Object(c.a)(i,2),o=m[0],d=m[1],b=Object(n.useState)(""),p=Object(c.a)(b,2),E=p[0],g=p[1],h=Object(n.useState)(null),v=Object(c.a)(h,2),N=v[0],j=v[1],y=Object(n.useState)(!1),k=Object(c.a)(y,2),O=k[0],x=k[1];function C(){u.a.get("/api/user/friends").then((function(e){"success"===e.data.status&&(s(e.data.friends),d(e.data.friendRequests))}))}function w(a){e.openMessages(a)}return Object(n.useEffect)((function(){C(),setTimeout((function(){C()}),5e3)})),l.a.createElement("div",{className:e.className},l.a.createElement("h4",null,"Add Friend"),l.a.createElement("input",{className:"search-friend-input",placeholder:"Enter a username",autoComplete:"no",value:E,onChange:function(e){g(e.target.value)}}),l.a.createElement(A.a,{onClick:function(e){e.preventDefault(),u.a.post("/api/user/friends/sendfriendrequest",f.a.stringify({newfriendusername:E})).then((function(e){"success"===e.data.status?(j(null),x(!0)):"error"===e.data.status&&(j(e.data.message),x(!1))}))},size:"small",color:"secondary","aria-label":"add"},l.a.createElement(M.a,null)),N&&l.a.createElement("div",{className:"invalid-feedback d-block"},N),O&&l.a.createElement("div",{className:"valid-feedback d-block"},"Friend Request Sent!"),l.a.createElement("hr",null),l.a.createElement("h4",null,"Friends"),r.map((function(e,a){return l.a.createElement(D,{key:a,id:a,friend:e,openMessages:w})})),l.a.createElement("hr",null),l.a.createElement("h4",null,"Friend Requests"),o.map((function(e,a){return l.a.createElement(P,{key:a,id:a,friend:e,getFriends:C})})))};t(120);var H=function(e){var a=Object(n.useState)(!1),t=Object(c.a)(a,2),r=t[0],s=t[1],i=Object(n.useState)(null),m=Object(c.a)(i,2),o=m[0],u=m[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(w,null,r?l.a.createElement(I,{closeMessages:function(){s(!1)},friend:o,isFullScreen:!1}):l.a.createElement(Q,{openMessages:function(e){u(e),s(!0)},className:"shadow-sm friends-list"})),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement(w,null,l.a.createElement("div",{className:"shadow-sm justify-content-center d-flex align-items-center",style:{paddingTop:"8px",color:"#586069",backgroundColor:"#f6f8fa",height:"55px",marginRight:"20px",marginLeft:"20px",marginTop:"20px",borderRadius:"10px",border:"1px solid #e5e8eb"}},l.a.createElement("h4",null," 36,850/36,850 commrads remain "))),l.a.createElement(C,null,l.a.createElement("div",{className:"shadow-sm justify-content-center d-flex align-items-center",style:{paddingTop:"8px",color:"#586069",backgroundColor:"#f6f8fa",height:"55px",marginRight:"20px",marginLeft:"20px",marginTop:"20px",borderRadius:"10px",border:"1px solid #e5e8eb"}},l.a.createElement("h5",null," 36,850/36,850 commrads remain "))),l.a.createElement(w,null,l.a.createElement("div",{className:"justify-content-around d-flex",style:{position:"absolute",width:"calc( 100vw - 350px)",bottom:"30px"}},l.a.createElement(v.a,{style:{width:"400px",height:"60px"},disabled:!0,variant:"danger",size:"lg"},"I Nutted :(")," ")),l.a.createElement(C,null,l.a.createElement("div",{className:"justify-content-around d-flex",style:{position:"absolute",width:"100vw",bottom:"30px"}},l.a.createElement(v.a,{style:{width:"300px",height:"60px"},disabled:!0,variant:"danger",size:"lg"},"I Nutted")," "))))};function U(e){return e.auth?l.a.createElement(H,{user:e.user}):l.a.createElement(R,null)}var B=function(e){return l.a.createElement(U,{user:e.user,auth:e.auth})};var V=function(e){var a=Object(n.useState)(!1),t=Object(c.a)(a,2),r=t[0],s=t[1],i=Object(n.useState)(null),m=Object(c.a)(i,2),o=m[0],u=m[1];return l.a.createElement(l.a.Fragment,null,r?l.a.createElement(I,{closeMessages:function(){s(!1)},friend:o,isFullScreen:!0}):l.a.createElement(Q,{openMessages:function(e){u(e),s(!0)},className:"friends-page"}))},G=t(7);t(121),t(122);var K=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],r=a[1],s=Object(n.useState)(null),i=Object(c.a)(s,2),m=i[0],o=i[1];function d(){u.a.get("/api/user").then((function(e){"success"===e.data.status?(r(!0),o(e.data.user)):(r(!1),o(null))}))}return Object(n.useEffect)((function(){d()}),[t]),l.a.createElement(h.a,null,l.a.createElement(S,{auth:t,reAuth:d,logout:function(){u.a.get("/api/logout").then((function(){return d()}))}}),l.a.createElement(G.a,{path:"/",exact:!0,render:function(e){return l.a.createElement(B,Object.assign({},e,{auth:t,user:m}))}}),l.a.createElement(G.a,{path:"/friends",exact:!0,render:function(e){return l.a.createElement(V,Object.assign({},e,{auth:t,user:m}))}}),l.a.createElement(G.a,{path:"/register",exact:!0,render:function(e){return l.a.createElement(b,Object.assign({},e,{auth:t,reAuth:d}))}}),l.a.createElement(G.a,{path:"/login",exact:!0,render:function(e){return l.a.createElement(p,Object.assign({},e,{auth:t,reAuth:d}))}}),l.a.createElement(G.a,{path:"/about",exact:!0,component:E}),l.a.createElement(G.a,{path:"/rules",exact:!0,component:g}))};s.a.render(l.a.createElement(K,null),document.getElementById("root"))},36:function(e,a,t){},73:function(e,a,t){e.exports=t(123)}},[[73,1,2]]]);
//# sourceMappingURL=main.6b53cf77.chunk.js.map